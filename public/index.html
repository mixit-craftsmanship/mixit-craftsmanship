<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Mix-IT Now</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="icon" type="image/png" href="/favicon.png">

    <link href="stylesheets/bootstrap.css" media="all" rel="stylesheet" type="text/css">
    <link href="stylesheets/style.css" media="all" rel="stylesheet" type="text/css">

    <script data-main="javascripts/application" src="javascripts/require.js"></script>
</head>
<body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">

                <a class="navbar-brand" href="#/">now.mix-it.fr</a>
                <a class="navbar-brand visible-xs" href="/stats.html">Stats</a>
                <a class="navbar-brand visible-xs" href="#/about">A propos</a>
            </div>

            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="/">Accueil</a></li>
                    <li><a href="/stats.html">Stats</a></li>
                    <li><a href="/about">A propos</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="main-container">
        <div class="container-fluid">
            <div class="container">
                <div data-bind="with: currentPage">
                    <div data-bind="template: templateName"></div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/html" id="aboutTemplate">
        <div class="row">
            <h1>A propos</h1>
            <p>
                Site créé lors de l'atelier Crafting Workshop du Mix-IT 2014 :
                <a href="http://www.mix-it.fr/session/362/crafting-workshop">http://www.mix-it.fr/session/362/crafting-workshop</a>
            </p>
            <p>
                Vous pouvez toujours proposer des améliorations via une pull request sur
                <a href="https://github.com/mixit-craftsmanship/mixit-craftsmanship">github</a> <br />
                ou via <a href="http://mixit-craftsmanship.uservoice.com">uservoice</a>.
            </p>
        </div>
    </script>

    <script type="text/html" id="homeTemplate">
        <div class="row">
            <div class="col-lg-12">
                <img class="img-responsive" src="/imgs/logo-mixit.png">
            </div>
            <h1 class="col-lg-12 text-center">Votez en continu pour les sessions !</h1>
            <p class="col-lg-12 text-center" data-bind="ifnot: waiting">Pour cela, indiquez où vous vous trouvez :</p>
            <div class="col-lg-12 text-center" data-bind="if: waiting">
                <p>Chargement en cours des conférences...</p>
            </div>

            <div class="currentTalks col-lg-12">
                <div class="row" data-bind="foreach: talks">
                    <div class="col-lg-6 col-md-12 col-sm-12">
                        <button type="button" class="btn btn-primary" data-bind="text: title, click: select"></button>
                    </div>
                </div>
            </div>

            <h1 class="col-lg-12 text-center" data-bind="visible:">Les sessions à venir dans l'heure...</h1>
            <div data-bind="foreach: nextTalks" class="nextTalks">
                <div class="col-lg-6 col-md-12 col-sm-12">
                    <button type="button" class="btn btn-primary" data-bind="text: title, click: viewDetails"></button>
                </div>
            </div>
        </div>
    </script>

    <script type="text/html" id="talkDetailTemplate">
        <div class="row">
            <h1 class="col-lg-12 text-center" data-bind="text: talkTitle"></h1>
            <div class="col-lg-12 text-center" data-bind="ifnot: loading">
                <p data-bind="visible: !talkHasStartAndEnd()">En continu sur les 2 jours</p>
                <p data-bind="visible: talkHasStartAndEnd">Le <span data-bind="text: talkDay"></span> de <span data-bind="text: talkStart"></span> à <span data-bind="text: talkEnd"></span></p>
                <p data-bind="visible: talkRoom">En salle <span data-bind="text: talkRoom"></span></p>
                <!-- ko foreach: talkSpeakers -->
                <p><span data-bind="text: $data.firstname"></span>&nbsp;<span data-bind="text: $data.lastname"></span><img class="speakerImage" data-bind="attr: {src: $data.image}"></p>
                <!-- /ko -->
                <p data-bind="text: talkSummary"></p>
            </div>
            <div class="col-lg-12 text-center" data-bind="if: loading">
                <p>Chargement en cours des détails...</p>
            </div>
        </div>
    </script>

    <script type="text/html" id="talkVoteTemplate">
        <div class="row talkVotePage">
            <h1 class="col-lg-12 text-center">
                <span data-bind="text: talkTitle"></span>
                <small data-bind="text: talkRoom"></small>
            </h1>

            <div class="col-lg-12 text-center" data-bind="if: !hasError() && connected() && !talkEnded()">
                <div data-bind="attr: { class: 'happySprite happy' + happyLevel() }, click: vote"></div>
                <br />
                <button type="button" class="btn btn-primary talkVoteButton" data-bind="click: vote">+1</button>
                <br />
                <br />
                <br />
                <p>A <b>chaque moment</b> qu'une chose vous plaît, <b>cliquez</b> sur "+1". Plus vous êtes heureux, plus vous devez cliquer.</p>
                <p>Une courbe pour chaque session indiquera l'évolution des votes au cours du temps. Aidez le speaker à être dans le top vote.</p>
            </div>

            <div class="col-lg-12 text-center" data-bind="ifnot: connected">
                <p class="bg-info">Connexion en cours...</p>
            </div>

            <div class="col-lg-12 text-center" data-bind="if: hasError">
                <p class="bg-danger">Impossible de se connecter au serveur</p>
            </div>

            <div class="col-lg-12 text-center" data-bind="if: talkEnded">
                <p class="bg-primary">La session est terminée. Vous ne pouvez plus voter</p>
                <a href="/">Changer de session</a>
            </div>
        </div>
    </script>
</body>
</html>
